@page "{Id}"
@model SGID.Pages.Logistica.LogisticaComercialModel
@{
    ViewData["Title"] = "Entregas Agendamento";
    if (User.IsInRole("Diretoria") && !User.IsInRole("Admin"))
    {
        Layout = "_LayoutDiretoria";
    }
    else
    {
        Layout = "_LayoutNovo";
    }
}


<div class="row justify-content-center">
    <div class="offset-3 offset-sm-3 col-sm-3 col-md-3">
        <div class="panel panel-colorful" style="background-color:lightgray">
            <div class="panel-heading">
                <h2 style="margin:0%;color:red" class="panel-title text-center">EM ROTA</h2>
            </div>
            <div class="panel-body" style="padding-top:0px;">
                <a class="produto" href="/logistica/logisticacomercial/1"><h3 class="text-center" style="margin-top:0%; color:red;font-size:80px">@Model.EmTrasporte</h3></a>
            </div>
        </div>
    </div>
    <div class=" col-sm-3 col-md-3">
        <div class="panel panel-colorful" style="background-color:lightgray">
            <div class="panel-heading">
                <h2 style="margin:0%;color:green" class="panel-title text-center">ENTREGUE</h2>
            </div>
            <div class="panel-body" style="padding-top:0px;">
                <a class="produto" href="/logistica/logisticacomercial/2"><h3 class="text-center" style="margin-top:0%; color:green;font-size:80px">@Model.Entregue</h3></a>
            </div>
        </div>
    </div>
</div>

<div class="panel">
    <div class="panel-body">
        <table id="demo-dt-addrow" class="table table-striped table-bordered" cellspacing="0" width="100%">
            <thead>
                <tr style="background-color:#5b9bd5;color:white;">
                    <th class="text-center">
                        Empresa
                    </th>
                    <th class="text-center">
                        Hospital
                    </th>
                    <th class="text-center">
                        Médico
                    </th>
                    <th class="text-center">
                        Data da Cirurgia
                    </th>
                    <th class="text-center">
                        Prioridade
                    </th>
                    <th class="text-center">
                        Status
                    </th>
                    <th class="text-center">
                        Media de Entrega
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var Pedido in Model.Agendamentos)
                {
                    <tr>
                        <td>
                            @if (Pedido.Empresa == "01")
                            {
                                <span>INTERMEDIC</span>
                            }
                            else
                            {
                                <span>DENUO</span>
                            }
                        </td>
                        <td>@Pedido.Hospital</td>
                        <td>@Pedido.Medico</td>
                        <td>@Pedido.DataCirurgia.Value.ToString("dd/MM/yyyy HH:mm") </td>
                        @if (Pedido.Tipo == 3)
                        {
                            <td style="background-color:green;">
                            </td>
                        }
                        else if (Pedido.Tipo == 2)
                        {
                            <td style="background-color:yellow;">
                            </td>
                        }
                        else
                        {
                            <td style="background-color:red;">
                            </td>
                        }
                        <td>
                            @if (Pedido.StatusLogistica == 0)
                            {
                                <span>AGUARDANDO TRANSPORTE</span>
                            }
                            else if (Pedido.StatusLogistica == 1)
                            {
                                <span>EM TRANSPORTE</span>
                            }
                            else
                            {
                                <span>ENTREGUE</span>
                            }
                        </td>
                        <td>
                            @Pedido.MediaEntrega
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
