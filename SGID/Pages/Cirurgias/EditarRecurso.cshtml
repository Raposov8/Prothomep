@page "{Id}"
@model SGID.Pages.Cirurgias.EditarRecursoModel
@{
    ViewData["Title"] = "Editar Recurso";
    Layout = "_LayoutGeral";
}

<div class="row">
    <h2 style="padding-left:20px;">Novo Recurso</h2>
</div>


<div class="card" style="padding:10px;">
    @using(@Html.BeginForm(FormMethod.Post,new { enctype = "multipart/form-data" })){
        <div class="row">
            <div class="col-md-10">
                <div class="row">
                    <input hidden id="Id" value="@Model.Instrumentador.RECNO" />
                    <div class="form-group col-md-2">
                        <label>Codigo</label>
                        <input type="text" class="form-control" value="@Model.Instrumentador.PahCodins" id="Codigo" name="Codigo"/>
                    </div>
                    <div class="form-group col-md-4">
                        <label>Nome Completo</label>
                        <input type="text" class="form-control" value="@Model.Instrumentador.PahNome" id="Nome" name="Nome"/>
                    </div>
                    <div class="form-group col-md-2">
                        <label>CPF</label>
                        <input type="text" class="form-control" value="@Model.Instrumentador.PahCpf" id="Cpf" name="Cpf"/>
                    </div>
                    <div class="form-group col-md-2">
                        <label>RG</label>
                        <input type="text" class="form-control" value="@Model.Instrumentador.PahRg" id="Rg" name="Rg"/>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-2">
                        <label>Status</label>
                        <select class="form-control" id="Status" name="Status">
                            <option value="1">Ativo</option>
                            <option value="2">Inativo</option>
                        </select>
                    </div>
                    <div class="form-group col-md-3">
                        <label>Tipo de Contratação</label>
                        <select class="form-control" id="Contratacao" name="Contratacao">
                            <option value="1">CLT</option>
                            <option value="2">PJ</option>
                        </select>
                    </div>
                    <div class="form-group col-md-12">
                        <label>Observação</label>
                        <textarea type="text" class="form-control" id="Obs" name="Obs"></textarea>
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="card">
                    <label class="col-md-12" for="FotoRecurso" style="padding-top:10px;">
                        <img src="/fotos/@Model.Instrumentador.PahImagem" id="FotoUser" height="150" width="130"/>
                    </label>
                    <input hidden type="file" id="FotoRecurso" name="FotoRecurso" accept="image/*">
                </div>
            </div>
            <div class="row" style="margin-top:10px;">
                <div class="col-md-12">
                    <a class="btn btn-button btn-danger" href="/cirurgias/listarrecursos">Voltar</a>
                    <button class="btn btn-button btn-success float-end" type="submit">Adicionar</button>
                </div>
            </div>
        </div>
    }
</div>

@section scripts{
<script>
    $(document).ready(function(){

        $('#Status').val('@Model.Instrumentador.PahMsblql');
        $('#Contratacao').val('@Model.Instrumentador.PahTipocontrato');
        $('#Obs').val('@Model.Instrumentador.PahObs')
    })

    $('#FotoRecurso').change(function(){
        const [file] = this.files
        if (file) {
          FotoUser.src = URL.createObjectURL(file)
        }
    })

</script>
}