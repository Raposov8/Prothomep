@page
@model SGID.Pages.Utilitarios.ListarCRMInterModel
@{
    ViewData["Title"] = "Medicos Sem CRM INTER";
    Layout = "_LayoutGeral";
}

<!--<div id="piechart" style="width: 900px; height: 500px;"></div>-->
@Html.AntiForgeryToken()

@using (@Html.BeginForm(FormMethod.Post))
{
    <div class="row">
        <div class="form-group mx-sm-3 mb-2 col-lg-1">
            <button type="submit" class="btn btn-secondary mb-2" asp-page-handler="Export"><i class="fa-solid fa-file-excel"></i> Exportar Excel</button>
        </div>
    </div>
}

<!-- Campo de Pesquisa-->
<div class="row">
    <div class="offset-4 col-md-3">
        <input class="form-control" type="search" id="searchInput" name="searchInput" oninput="this.value = this.value.toUpperCase()" />
    </div>
</div>
<br />

<div class="row justify-content-center">
    <div class="col-sm-3 col-md-3">
        <div class="panel panel-colorful" style="background-color:lightgray">
            <div class="panel-heading">
                <h2 style="margin:0%;color:black" class="panel-title text-center">MEDICO SEM CRM</h2>
            </div>
            <div class="panel-body" style="padding-top:0px;">
                <h3 class="text-center" style="margin-top:0%; color:black;font-size:80px">@Model.Total</h3>
            </div>
        </div>
    </div>
</div>

<!--Tabela-->
<div class="panel">
    <div class="panel-body">
        <table id="demo-dt-addrow" class="table table-striped table-bordered" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th class="text-center">
                        CODIGO
                    </th>
                    <th class="text-center">
                        NOME
                    </th>
                    <th class="text-center">
                        CRM
                    </th>
                    <th class="text-center">
                        VENDEDOR
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var data in Model.Medicos)
                {
                    <tr>
                        <td>@Html.DisplayFor(model=> data.A1Cod)</td>
                        <td>@Html.DisplayFor(model=> data.A1Nome)</td>
                        <td>@Html.DisplayFor(model=> data.A1Crm)</td>
                        <td>@Html.DisplayFor(model=> data.A1Nvend)</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

@section scripts{
    <script>
        $(document).ready(function()
        {

            $("#searchInput").keyup(function () {
                var rows = $("#demo-dt-addrow").find("tr").hide();
                if (this.value.length) {
                    var data = this.value;
                    rows.filter(":contains('" + data + "')").show();
                } else rows.show();
            });
        })
    </script>
}