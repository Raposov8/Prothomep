@page "{Id}"
@model SGID.Pages.Account.RH.EditarTimeModel
@{
    ViewBag.Title = "Editar Comercial";
    Layout = "_LayoutGeral";
}

<h2>Editar</h2>


<div class="card" style="padding:10px;">
    @using (Html.BeginForm(FormMethod.Post))
    {
        @Html.AntiForgeryToken()

        <div class="form-horizontal">
            <h4>Editar usuário</h4>
            <hr />
            @Html.ValidationSummary(true)
            @Html.HiddenFor(model => model.Editar.Id)
            <div class="row">
                <div class="form-group col-md-4">
                    @Html.LabelFor(model => model.Editar.Email, new { @class = "col-md-12 control-label" })
                    <div class="col-md-12">
                        @Html.TextBoxFor(model => model.Editar.Email, new { @class = "form-control", @required = "required",@placehold="Email" })
                    </div>
                </div>
                <div class="form-group col-md-4">
                    @Html.LabelFor(model => model.Editar.EmailGestor, new { @class = "col-md-12 control-label" })
                    <div class="col-md-12">
                        @Html.TextBoxFor(model => model.Editar.EmailGestor, new { @class = "form-control", @required = "required",@placehold="Email" })
                    </div>
                </div>
                <div class="form-group col-md-4">
                    @Html.LabelFor(model => model.Editar.Meta, new { @class = "col-md-12 control-label" })
                    <div class="col-md-12">
                        @Html.TextBoxFor(model => model.Editar.Meta,"{0:N2}", new { @class = "form-control", @placehold="Meta" })
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-4">
                    @Html.LabelFor(model => model.Editar.Porcentagem, new { @class = "col-md-12 control-label" })
                    <div class="col-md-12">
                        @Html.TextBoxFor(model => model.Editar.Porcentagem, "{0:N2}", new { @class = "form-control", @placehold= "Porcentagem" })
                    </div>
                </div>
                <div class="form-group col-md-4">
                    @Html.LabelFor(model => model.Editar.PorcentagemSegun, new { @class = "col-md-12 control-label" })
                    <div class="col-md-12">
                        @Html.TextBoxFor(model => model.Editar.PorcentagemSegun, "{0:N2}", new { @class = "form-control", @placehold= "Porcentagem" })
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-4">
                    @Html.LabelFor(model => model.Editar.GerenProd, new { @class = "col-md-12 control-label" })
                    <div class="col-md-12">
                        @Html.DropDownList("Editar.GerenProd",new SelectList(Model.Gerente,Model.Editar.GerenProd),"",new { @class = "form-control", @placehold= "Porcentagem" })
                    </div>
                </div>
                <div class="form-group col-md-4" id="PorcGerente">
                    @Html.LabelFor(model => model.Editar.PorcentagemProd, new { @class = "col-md-12 control-label" })
                    <div class="col-md-12">
                        @Html.TextBoxFor(model => model.Editar.PorcentagemProd, "{0:N2}", new { @class = "form-control", @placehold= "Porcentagem" })
                    </div>
                </div>
            </div>
            <div class="form-group" id="LinhasProduto">
                <label class="col-md-2 control-label">
                    Seleciona as Linhas do Gerente de Produtos
                </label>
                <div class="col-md-10">
                    @foreach (var item in Model.Editar.RolesList)
                    {
                        <input type="checkbox" id="SelectedLinhas" name="SelectedLinhas" value="@item.Value" checked="@item.Selected" class="checkbox-inline" />
                        @Html.Label(item.Value, item.Value , new { @class = "control-label" })
                    }
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-4">
                    @Html.LabelFor(model => model.Editar.Teto, new { @class = "col-md-12 control-label" })
                    <div class="col-md-12">
                        @Html.TextBoxFor(model => model.Editar.Teto, "{0:N2}", new { @class = "form-control", @placehold= "Teto" })
                    </div>
                </div>
                <div class="form-group col-md-4">
                    @Html.LabelFor(model => model.Editar.TipoVendedor, new { @class = "col-md-12 control-label" })
                    <div class="col-md-12">
                        @Html.DropDownList("Editar.TipoVendedor",new SelectList(Model.Regioes,Model.Editar.TipoVendedor),"",new { @class = "form-control", @placehold= "Porcentagem" })
                    </div>
                </div>
                <div class="form-group col-md-4">
                    @Html.LabelFor(model => model.Editar.Salario, new { @class = "col-md-12 control-label" })
                    <div class="col-md-12">
                        @Html.TextBoxFor(model => model.Editar.Salario, "{0:N2}", new { @class = "form-control", @placehold= "Salario" })
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-6">
                    <input type="submit" value="Salvar" class="btn btn-default" />
                </div>
                <div class="col-md-6">
                    <a href="/account/rh/listartime"></a>
                </div>
            </div>
        </div>
    }
</div>

@section scripts{
    <script>
        $(document).ready(function () {

            @if (Model.Editar.GerenProd != "SIM") 
            {
                    @:$('#LinhasProduto').hide();
                    @:$('#PorcGerente').hide(); 
            }


            $("#GerenProd").on('change', function () {

                var teste = $("#GerenProd").val();

                if (teste == "SIM") 
                {
                    $('#LinhasProduto').show();
                    $('#PorcGerente').show();
                }
                else 
                {
                    $("#SelectedLinhas").prop('checked', false);
                    $("#PorcentagemProd").val(0)
                    $('#LinhasProduto').hide();
                    $('#PorcGerente').hide();
                }

            })
        })
    </script>
}